const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DefaultLayout.CTlJMAZG.js","assets/vendor-react.B5Kz-_CL.js","assets/vendor.B5jnI0H-.js","assets/vendor-react.GNLSjkBZ.css","assets/Home.BNKROgUK.js","assets/NotFound.DVh7XD60.js"])))=>i.map(i=>d[i]);
var R=Object.defineProperty;var L=(t,e,r)=>e in t?R(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var I=(t,e,r)=>L(t,typeof e!="symbol"?e+"":e,r);import{r as d,j as o,B as S,R as U,a as f,c as w}from"./vendor-react.B5Kz-_CL.js";import"./vendor.B5jnI0H-.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();const C="modulepreload",k=function(t){return"/dice-game/"+t},E={},P=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(p=>{if(p=k(p),p in E)return;E[p]=!0;const g=p.endsWith(".css"),D=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${D}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":C,g||(_.as="script"),_.crossOrigin="",_.href=p,u&&_.setAttribute("nonce",u),document.head.appendChild(_),g)return new Promise((y,a)=>{_.addEventListener("load",y),_.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${p}`)))})}))}function i(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&i(u.reason);return e().catch(i)})};class O extends d.Component{constructor(r){super(r);I(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("ErrorBoundary caught an error:",r,n)}render(){var r;return this.state.hasError?o.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50 text-center",children:o.jsxs("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-md",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),o.jsx("p",{className:"text-gray-700 mb-6",children:(r=this.state.error)==null?void 0:r.toString()}),o.jsx("button",{onClick:this.handleReset,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Try again"})]})}):this.props.children}}const A=()=>o.jsxs("div",{className:"loading-spinner",children:[o.jsx("div",{className:"spinner",children:[...Array(12)].map((t,e)=>o.jsx("div",{className:"spinner-blade",style:{animationDelay:`${e*.08333}s`,transform:`rotate(${e*30}deg) translate(0, -140%)`}},e))}),o.jsx("p",{children:"Loading..."})]}),N=d.createContext(),x=(t={})=>({dices:["Normal_D1"],totalRolls:0,gold:0,upgrades:{},...t}),T=()=>{try{const t=localStorage.getItem("playerData");return t?JSON.parse(t):null}catch(t){return console.error("Failed to parse player data:",t),null}},F=t=>{try{localStorage.setItem("playerData",JSON.stringify(t))}catch(e){console.error("Failed to save player data:",e)}},B=({children:t})=>{const[e,r]=d.useState(()=>{const a=T();return a?x(a):x()});d.useEffect(()=>{F(e)},[e]);const n=a=>{r(c=>({...c,gold:c.gold+a}))},s=a=>{r(c=>({...c,gold:Math.max(0,c.gold-a)}))},i=a=>{r(c=>({...c,dices:[...c.dices,a]}))},l=a=>{r(c=>({...c,dices:c.dices.filter(m=>m!==a)}))},u=()=>e.upgrades,p=a=>e.upgrades[a],g=(a,c)=>{r(m=>({...m,upgrades:{...m.upgrades,[a]:(m.upgrades[a]||0)+c}}))},D=(a,c)=>{r(m=>({...m,upgrades:{...m.upgrades,[a]:Math.max(0,(m.upgrades[a]||0)-c)}}))},_=(a,c)=>{r(m=>({...m,upgrades:{...m.upgrades,[a]:c}}))},y=()=>{window.confirm("Are you sure you want to reset all progress?")&&r(x())};return o.jsx(N.Provider,{value:{player:e,addGold:n,removeGold:s,addDice:i,removeDice:l,getUpgrades:u,getUpgrade:p,addUpgrade:g,removeUpgrade:D,setUpgrade:_,resetPlayer:y},children:t})},ee=()=>d.useContext(N),j=d.createContext(),V=(t={})=>({Normal_D1:{id:"normal",sides:1,multiplier:1},Normal_D2:{id:"normal",sides:2,multiplier:1},Normal_D3:{id:"normal",sides:3,multiplier:1},Normal_D4:{id:"normal",sides:4,multiplier:1},Normal_D5:{id:"normal",sides:5,multiplier:1},Normal_D6:{id:"normal",sides:6,multiplier:1},Uncommon_D1:{id:"uncommon",sides:1,multiplier:1.5},Uncommon_D2:{id:"uncommon",sides:2,multiplier:1.5},Uncommon_D3:{id:"uncommon",sides:3,multiplier:1.5},Uncommon_D4:{id:"uncommon",sides:4,multiplier:1.5},Uncommon_D5:{id:"uncommon",sides:5,multiplier:1.5},Uncommon_D6:{id:"uncommon",sides:6,multiplier:1.5},Rare_D1:{id:"rare",sides:1,multiplier:1.75},Rare_D2:{id:"rare",sides:2,multiplier:1.75},Rare_D3:{id:"rare",sides:3,multiplier:1.75},Rare_D4:{id:"rare",sides:4,multiplier:1.75},Rare_D5:{id:"rare",sides:5,multiplier:1.75},Rare_D6:{id:"rare",sides:6,multiplier:1.75},Epic_D1:{id:"epic",sides:1,multiplier:2},Epic_D2:{id:"epic",sides:2,multiplier:2},Epic_D3:{id:"epic",sides:3,multiplier:2},Epic_D4:{id:"epic",sides:4,multiplier:2},Epic_D5:{id:"epic",sides:5,multiplier:2},Epic_D6:{id:"epic",sides:6,multiplier:2},Legendary_D1:{id:"legendary",sides:1,multiplier:2.5},Legendary_D2:{id:"legendary",sides:2,multiplier:2.5},Legendary_D3:{id:"legendary",sides:3,multiplier:2.5},Legendary_D4:{id:"legendary",sides:4,multiplier:2.5},Legendary_D5:{id:"legendary",sides:5,multiplier:2.5},Legendary_D6:{id:"legendary",sides:6,multiplier:2.5},...t}),$=({children:t})=>{const[e]=d.useState(V());return o.jsx(j.Provider,{value:{dice:e},children:t})},re=()=>d.useContext(j);class h{constructor(e=[],r){this._table=e,this._cost=r}get cost(){return this._cost}addItem(e,r=1,n=Number.POSITIVE_INFINITY){r=isNaN(Number(r))||r<=0?1:Number(r),n=isNaN(Number(n))?Number.POSITIVE_INFINITY:Math.max(0,Number(n)),this._table.push({item:e,weight:r,quantity:n})}chooseItem(){if(this._table.length===0)return null;let e=this._table.reduce((s,i)=>s+(i.quantity>0?i.weight:0),0);if(e===0)return null;let r=Math.random()*e,n=0;for(const s of this._table)if(!(s.quantity<=0)&&(n+=s.weight,r<n))return s.quantity--,s.item;return null}clearItems(){this._table=[]}}const q=()=>{const t=new h([],5);t.addItem("Normal_D1",600),t.addItem("Normal_D2",250),t.addItem("Normal_D3",100),t.addItem("Normal_D4",40),t.addItem("Normal_D5",8),t.addItem("Normal_D6",2);const e=new h([],50);e.addItem("Uncommon_D1",500),e.addItem("Uncommon_D2",300),e.addItem("Uncommon_D3",150),e.addItem("Uncommon_D4",60),e.addItem("Uncommon_D5",15),e.addItem("Uncommon_D6",5);const r=new h([],200);r.addItem("Rare_D1",400),r.addItem("Rare_D2",250),r.addItem("Rare_D3",200),r.addItem("Rare_D4",100),r.addItem("Rare_D5",30),r.addItem("Rare_D6",10);const n=new h([],750);n.addItem("Epic_D1",300),n.addItem("Epic_D2",200),n.addItem("Epic_D3",150),n.addItem("Epic_D4",80),n.addItem("Epic_D5",40),n.addItem("Epic_D6",15);const s=new h([],2500);return s.addItem("Legendary_D1",200),s.addItem("Legendary_D2",150),s.addItem("Legendary_D3",120),s.addItem("Legendary_D4",70),s.addItem("Legendary_D5",35),s.addItem("Legendary_D6",10),{"Normal Pack":t,"Uncommon Pack":e,"Rare Pack":r,"Epic Pack":n,"Legendary Pack":s}},b=d.createContext(),z=({children:t})=>{const[e]=d.useState(q());return o.jsx(b.Provider,{value:{Packs:e},children:t})},te=()=>d.useContext(b),v=d.createContext(),M=(t=[])=>[{id:"rollSpeed",title:"Roll Speed",cost:1,description:"Desceases Roll Speed",max:10},...t],W=({children:t})=>{const[e]=d.useState(M());return o.jsx(v.Provider,{value:{upgrades:e},children:t})},se=()=>d.useContext(v),G=({children:t})=>o.jsx(B,{children:o.jsx(W,{children:o.jsx(z,{children:o.jsx($,{children:t})})})}),J=d.lazy(()=>P(()=>import("./DefaultLayout.CTlJMAZG.js"),__vite__mapDeps([0,1,2,3]))),Y=d.lazy(()=>P(()=>import("./Home.BNKROgUK.js"),__vite__mapDeps([4,1,2,3]))),H=d.lazy(()=>P(()=>import("./NotFound.DVh7XD60.js"),__vite__mapDeps([5,1,2,3]))),K=()=>o.jsx(S,{basename:"/dice-game",children:o.jsx(O,{children:o.jsx(G,{children:o.jsx(d.Suspense,{fallback:o.jsx(A,{}),children:o.jsxs(U,{children:[o.jsx(f,{element:o.jsx(J,{}),children:o.jsx(f,{path:"/",element:o.jsx(Y,{})})}),o.jsx(f,{path:"*",element:o.jsx(H,{})})]})})})})});w.createRoot(document.getElementById("root")).render(o.jsx(d.StrictMode,{children:o.jsx(K,{})}));export{re as a,se as b,te as c,ee as u};
//# sourceMappingURL=index.CwCnsldo.js.map
