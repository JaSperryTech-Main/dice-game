const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DefaultLayout.ymikXxYz.js","assets/vendor-react.DmSwpSGH.js","assets/vendor.BMDhoA5L.js","assets/Home.D7v8C5tt.js","assets/NotFound.Cn_e6Esm.js"])))=>i.map(i=>d[i]);
var b=Object.defineProperty;var R=(r,t,e)=>t in r?b(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var y=(r,t,e)=>R(r,typeof t!="symbol"?t+"":t,e);import{r as l,j as i,B as L,R as v,a as f,c as U}from"./vendor-react.DmSwpSGH.js";import"./vendor.BMDhoA5L.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const S="modulepreload",w=function(r){return"/dice-game/"+r},I={},x=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(e.map(p=>{if(p=w(p),p in I)return;I[p]=!0;const g=p.endsWith(".css"),D=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${D}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":S,g||(_.as="script"),_.crossOrigin="",_.href=p,u&&_.setAttribute("nonce",u),document.head.appendChild(_),g)return new Promise((o,d)=>{_.addEventListener("load",o),_.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&a(u.reason);return t().catch(a)})};class C extends l.Component{constructor(e){super(e);y(this,"handleReset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary caught an error:",e,n)}render(){var e;return this.state.hasError?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50 text-center",children:i.jsxs("div",{className:"max-w-md w-full p-6 bg-white rounded-lg shadow-md",children:[i.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),i.jsx("p",{className:"text-gray-700 mb-6",children:(e=this.state.error)==null?void 0:e.toString()}),i.jsx("button",{onClick:this.handleReset,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Try again"})]})}):this.props.children}}const k=()=>i.jsxs("div",{className:"loading-spinner",children:[i.jsx("div",{className:"spinner",children:[...Array(12)].map((r,t)=>i.jsx("div",{className:"spinner-blade",style:{animationDelay:`${t*.08333}s`,transform:`rotate(${t*30}deg) translate(0, -140%)`}},t))}),i.jsx("p",{children:"Loading..."})]}),P=l.createContext(),O=(r={})=>({dices:["Normal_D1"],totalRolls:0,gold:0,upgrades:{},...r}),A=({children:r})=>{const[t,e]=l.useState(O()),n=o=>{e(d=>({...d,gold:d.gold+o}))},s=o=>{e(d=>({...d,gold:d.gold-o}))},a=o=>{e(d=>({...d,dices:[...d.dices,o]}))},c=o=>{e(d=>({...d,dices:d.dices.filter(m=>m!==o)}))},u=()=>t.upgrades,p=o=>t.upgrades[o],g=(o,d)=>{e(m=>({...m,upgrades:{...m.upgrades,[o]:(m.upgrades[o]||0)+d}}))},D=(o,d)=>{e(m=>({...m,upgrades:{...m.upgrades,[o]:m.upgrades[o]-d}}))},_=(o,d)=>{e(m=>({...m,upgrades:{...m.upgrades,[o]:m.upgrades[o]=d}}))};return i.jsx(P.Provider,{value:{player:t,addGold:n,removeGold:s,addDice:a,removeDice:c,getUpgrades:u,getUpgrade:p,addUpgrade:g,removeUpgrade:D,setUpgrade:_},children:r})},Q=()=>l.useContext(P),E=l.createContext(),T=(r={})=>({Normal_D1:{id:"normal",sides:1,multiplier:1},Normal_D2:{id:"normal",sides:2,multiplier:1},Normal_D3:{id:"normal",sides:3,multiplier:1},Normal_D4:{id:"normal",sides:4,multiplier:1},Normal_D5:{id:"normal",sides:5,multiplier:1},Normal_D6:{id:"normal",sides:6,multiplier:1},Uncommon_D1:{id:"uncommon",sides:1,multiplier:1.5},Uncommon_D2:{id:"uncommon",sides:2,multiplier:1.5},Uncommon_D3:{id:"uncommon",sides:3,multiplier:1.5},Uncommon_D4:{id:"uncommon",sides:4,multiplier:1.5},Uncommon_D5:{id:"uncommon",sides:5,multiplier:1.5},Uncommon_D6:{id:"uncommon",sides:6,multiplier:1.5},Rare_D1:{id:"rare",sides:1,multiplier:1.75},Rare_D2:{id:"rare",sides:2,multiplier:1.75},Rare_D3:{id:"rare",sides:3,multiplier:1.75},Rare_D4:{id:"rare",sides:4,multiplier:1.75},Rare_D5:{id:"rare",sides:5,multiplier:1.75},Rare_D6:{id:"rare",sides:6,multiplier:1.75},Epic_D1:{id:"epic",sides:1,multiplier:2},Epic_D2:{id:"epic",sides:2,multiplier:2},Epic_D3:{id:"epic",sides:3,multiplier:2},Epic_D4:{id:"epic",sides:4,multiplier:2},Epic_D5:{id:"epic",sides:5,multiplier:2},Epic_D6:{id:"epic",sides:6,multiplier:2},Legendary_D1:{id:"legendary",sides:1,multiplier:2.3},Legendary_D2:{id:"legendary",sides:2,multiplier:2.3},Legendary_D3:{id:"legendary",sides:3,multiplier:2.3},Legendary_D4:{id:"legendary",sides:4,multiplier:2.3},Legendary_D5:{id:"legendary",sides:5,multiplier:2.3},Legendary_D6:{id:"legendary",sides:6,multiplier:2.3},...r}),B=({children:r})=>{const[t]=l.useState(T());return i.jsx(E.Provider,{value:{dice:t},children:r})},X=()=>l.useContext(E);class h{constructor(t=[],e){this._table=t,this._cost=e}get cost(){return this._cost}addItem(t,e=1,n=Number.POSITIVE_INFINITY){e=isNaN(Number(e))||e<=0?1:Number(e),n=isNaN(Number(n))?Number.POSITIVE_INFINITY:Math.max(0,Number(n)),this._table.push({item:t,weight:e,quantity:n})}chooseItem(){if(this._table.length===0)return null;let t=this._table.reduce((s,a)=>s+(a.quantity>0?a.weight:0),0);if(t===0)return null;let e=Math.random()*t,n=0;for(const s of this._table)if(!(s.quantity<=0)&&(n+=s.weight,e<n))return s.quantity--,s.item;return null}clearItems(){this._table=[]}}const F=()=>{const r=new h([],5);r.addItem("Normal_D1",600),r.addItem("Normal_D2",250),r.addItem("Normal_D3",100),r.addItem("Normal_D4",40),r.addItem("Normal_D5",8),r.addItem("Normal_D6",2);const t=new h([],50);t.addItem("Uncommon_D1",500),t.addItem("Uncommon_D2",300),t.addItem("Uncommon_D3",150),t.addItem("Uncommon_D4",60),t.addItem("Uncommon_D5",15),t.addItem("Uncommon_D6",5);const e=new h([],200);e.addItem("Rare_D1",400),e.addItem("Rare_D2",250),e.addItem("Rare_D3",200),e.addItem("Rare_D4",100),e.addItem("Rare_D5",30),e.addItem("Rare_D6",10);const n=new h([],750);n.addItem("Epic_D1",300),n.addItem("Epic_D2",200),n.addItem("Epic_D3",150),n.addItem("Epic_D4",80),n.addItem("Epic_D5",40),n.addItem("Epic_D6",15);const s=new h([],2500);return s.addItem("Legendary_D1",200),s.addItem("Legendary_D2",150),s.addItem("Legendary_D3",120),s.addItem("Legendary_D4",70),s.addItem("Legendary_D5",35),s.addItem("Legendary_D6",10),{"Normal Pack":r,"Uncommon Pack":t,"Rare Pack":e,"Epic Pack":n,"Legendary Pack":s}},N=l.createContext(),V=({children:r})=>{const[t]=l.useState(F());return i.jsx(N.Provider,{value:{Packs:t},children:r})},Z=()=>l.useContext(N),j=l.createContext(),$=(r=[])=>[{id:"rollSpeed",title:"Roll Speed",cost:1,description:"Desceases Roll Speed"},...r],q=({children:r})=>{const[t]=l.useState($());return i.jsx(j.Provider,{value:{upgrades:t},children:r})},ee=()=>l.useContext(j),z=({children:r})=>i.jsx(A,{children:i.jsx(q,{children:i.jsx(V,{children:i.jsx(B,{children:r})})})}),W=l.lazy(()=>x(()=>import("./DefaultLayout.ymikXxYz.js"),__vite__mapDeps([0,1,2]))),G=l.lazy(()=>x(()=>import("./Home.D7v8C5tt.js"),__vite__mapDeps([3,1,2]))),Y=l.lazy(()=>x(()=>import("./NotFound.Cn_e6Esm.js"),__vite__mapDeps([4,1,2]))),H=()=>i.jsx(L,{basename:"/dice-game",children:i.jsx(C,{children:i.jsx(z,{children:i.jsx(l.Suspense,{fallback:i.jsx(k,{}),children:i.jsxs(v,{children:[i.jsx(f,{element:i.jsx(W,{}),children:i.jsx(f,{path:"/",element:i.jsx(G,{})})}),i.jsx(f,{path:"*",element:i.jsx(Y,{})})]})})})})});U.createRoot(document.getElementById("root")).render(i.jsx(l.StrictMode,{children:i.jsx(H,{})}));export{X as a,ee as b,Z as c,Q as u};
//# sourceMappingURL=index.BN2jhS1I.js.map
